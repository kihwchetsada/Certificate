# ระบบจัดการและออกใบประกาศนียบัตร (Certificate Management System)

## ความต้องการของระบบ
- PHP 7.4 หรือสูงกว่า
- MySQL/MariaDB
- Web Server (Apache/Nginx)
- Composer

## การติดตั้ง

1. ดาวน์โหลดหรือ Clone โปรเจค
```bash
git clone [URL_repository](https://github.com/kihwchetsada/Certificate.git)
cd [ชื่อโฟลเดอร์]
```

2. ติดตั้ง Dependencies ผ่าน Composer
```bash
composer install
```

3. ตั้งค่าฐานข้อมูล
- สร้างฐานข้อมูลใหม่ใน MySQL
- แก้ไขไฟล์ `database.php` โดยกำหนดค่าการเชื่อมต่อฐานข้อมูล:
```php
$host = "localhost";
$username = "root";
$password = "";
$database = "ชื่อฐานข้อมูล";
```

4. กำหนดสิทธิ์การเข้าถึงโฟลเดอร์
```bash
chmod 755 -R assets/
chmod 755 -R certificates/
```

## โครงสร้างไฟล์สำคัญ
- `assets/` - ไฟล์ resource ต่างๆ เช่น fonts, รูปภาพ template
- `certificates/` - โฟลเดอร์สำหรับเก็บไฟล์ใบประกาศที่สร้างแล้ว
- `backend-*.php` - ไฟล์สำหรับจัดการข้อมูลฝั่ง Backend
- `generate.php` - ไฟล์สำหรับสร้างใบประกาศ
- `download.php` - ไฟล์สำหรับดาวน์โหลดใบประกาศ

## วิธีการใช้งาน

### 1. การจัดการข้อมูลผู้รับใบประกาศ
- เข้าสู่หน้า `backend-index.php` เพื่อดูรายการทั้งหมด
- ใช้ `backend-submit.php` สำหรับเพิ่มข้อมูลใหม่
- ใช้ `backend-edit.php` สำหรับแก้ไขข้อมูล
- ใช้ `backend-delete.php` สำหรับลบข้อมูล

### 2. การสร้างใบประกาศ
1. เข้าสู่หน้า `generate.php`
2. เลือกรายการที่ต้องการสร้างใบประกาศ
3. กดปุ่มสร้างใบประกาศ
4. ระบบจะสร้างไฟล์ PDF และบันทึกไว้ในโฟลเดอร์ `certificates/`

### 3. การตรวจสอบใบประกาศ
- ใช้ `check_certificate.php` สำหรับตรวจสอบความถูกต้องของใบประกาศ
- กรอกรหัสใบประกาศเพื่อตรวจสอบ

## การแก้ไข Template ใบประกาศ
1. เตรียมไฟล์ template ในรูปแบบ JPG
2. วางไฟล์ไว้ใน `assets/`
3. แก้ไขการอ้างอิงในไฟล์ `generate.php`

## การแก้ไขแบบอักษร
1. วางไฟล์ font ที่ต้องการใช้ไว้ในโฟลเดอร์ `assets/fonts/`
2. แก้ไขการอ้างอิง font ในไฟล์ `generate.php`

## หมายเหตุ
- ควรสำรองข้อมูลก่อนทำการอัพเดทระบบ
- ตรวจสอบสิทธิ์การเข้าถึงไฟล์และโฟลเดอร์ให้เหมาะสม
- ระวังการแก้ไข template และ font เพราะอาจส่งผลต่อการแสดงผลใบประกาศ

## การแก้ไขปัญหาเบื้องต้น
1. หากสร้างใบประกาศไม่ได้:
   - ตรวจสอบสิทธิ์การเข้าถึงโฟลเดอร์ certificates/
   - ตรวจสอบการติดตั้ง PHP GD Library

2. หากอัพโหลดไฟล์ไม่ได้:
   - ตรวจสอบค่า upload_max_filesize ใน php.ini
   - ตรวจสอบสิทธิ์การเข้าถึงโฟลเดอร์ที่ใช้เก็บไฟล์
